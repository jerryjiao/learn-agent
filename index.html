<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Agent Learner - 学习 Agentic AI 开发的笔记网站">
    <title>Agent Learner - 学习笔记</title>
    <link rel="stylesheet" href="styles/theme.css">
    <link rel="stylesheet" href="styles/layout.css">
</head>
<body>
    <div class="container">
        <!-- 侧边栏 -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>📚 学习笔记</h2>
                <div class="stats" id="stats">
                    <span class="stat-item">
                        <span class="stat-label">笔记数</span>
                        <span class="stat-value" id="note-count">0</span>
                    </span>
                </div>
            </div>

            <!-- 搜索框 -->
            <div class="search-box">
                <input type="text" id="search-input" placeholder="搜索笔记...">
                <button id="clear-search" class="clear-btn" style="display: none;">×</button>
            </div>

            <!-- 笔记列表 -->
            <nav class="notes-nav" id="notes-nav">
                <div class="loading">加载中...</div>
            </nav>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 顶部工具栏 -->
            <header class="top-bar">
                <button id="toggle-sidebar" class="icon-btn" aria-label="切换侧边栏">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 12h18M3 6h18M3 18h18"/>
                    </svg>
                </button>

                <h1 id="current-title">Agent Learner</h1>

                <button id="theme-toggle" class="icon-btn" aria-label="切换主题">
                    <svg class="sun-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="5"/>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    <svg class="moon-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="display: none;">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
            </header>

            <!-- 笔记内容 -->
            <article class="note-content" id="note-content">
                <div class="welcome">
                    <h2>欢迎使用 Agent Learner</h2>
                    <p>这是学习 Agentic AI 开发的笔记网站。从左侧选择一个笔记开始学习。</p>

                    <div class="features">
                        <div class="feature-card">
                            <h3>🎯 系统化学习</h3>
                            <p>基于《Agent In Action》的完整课程体系</p>
                        </div>
                        <div class="feature-card">
                            <h3>📝 自动生成笔记</h3>
                            <p>学习过程中自动生成结构化笔记</p>
                        </div>
                        <div class="feature-card">
                            <h3>🔍 快速搜索</h3>
                            <p>实时搜索所有笔记内容</p>
                        </div>
                        <div class="feature-card">
                            <h3>🌓 明暗主题</h3>
                            <p>支持明暗主题切换，保护视力</p>
                        </div>
                    </div>

                    <div class="get-started">
                        <h3>开始学习</h3>
                        <ol>
                            <li>在 Claude Code 中运行 <code>/learn</code> 命令</li>
                            <li>系统会自动生成学习笔记</li>
                            <li>笔记会自动发布到这个网站</li>
                        </ol>
                    </div>
                </div>
            </article>
        </main>
    </div>

    <script src="scripts/theme-toggle.js"></script>
    <script src="scripts/search.js"></script>
    <script src="scripts/data-loader.js"></script>
    <script>
        // 初始化
        document.addEventListener('DOMContentLoaded', () => {
            // 加载笔记数据
            loadNotes();
        });
    </script>
</body>
</html>
